jQuery(function(e){const t=e(".get_quote"),o=e(".post_quote");let n="";t.on("click",function(t){t.preventDefault(),n=document.URL,e.ajax({method:"get",url:window.qod_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&[posts_per_page]=1",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",window.qod_vars.wpapi_nonce)}}).done(function(t){const o=t[0]._qod_quote_source,r=t[0]._qod_quote_source_url;history.pushState("","",window.qod_vars.home_url+"/"+t[0].slug),e(".quote-content p").html(t[0].content.rendered),e(".quote-title").html(t[0].title.rendered),e(".quote-source").html(`<a href="${r}">${o}</a>`),e(window).on("popstate",function(){window.location.replace(n)})})}),o.on("click",function(t){t.preventDefault();const o={title:e(".submit_author").val(),content:e(".quote_text").val(),orign:e(".quote_origin").val(),url:e(".quote_url").val()};""===o.title&&""===o.content?alert("Sorry, 'Author' and 'Quote' are required fields."):e.ajax({method:"post",url:qod_vars.rest_url+"wp/v2/posts/",data:o,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",qod_vars.wpapi_nonce)}}).done(function(){e(".submit-form").html("Thanks, your quote submission was received!"),e(".submit-form").append('<br><a href="'+qod_vars.home_url+'/submit">Click here to submit another!</a>')})})});